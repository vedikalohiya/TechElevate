<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - TechElevate</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }

      body {
        line-height: 1.6;
        background-color: #f1f1f1;
        color: #333;
        background-image: url("https://media.istockphoto.com/photos/laptop-with-job-search-engine-on-screen-in-modern-office-picture-id1352380090?b=1&k=20&m=1352380090&s=170667a&w=0&h=eM_nRFyGk4uQe5_WV9ZGOF4Oujohh-IIL0lyAcfrgak=");
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
      }

      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background-color: #0a2647;
        color: #ffffff;
      }

      .logo {
        font-size: 36px;
        font-weight: bold;
      }

      .nav-links {
        display: flex;
        gap: 30px;
      }

      .nav-links li {
        list-style: none;
      }

      .nav-links a {
        text-decoration: none;
        color: #fff7f7;
        font-size: 18px;
      }

      .nav-links a:hover {
        text-decoration: underline;
      }

      .register-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 85vh;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 40px;
      }

      .register-form {
        background-color: white;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        max-width: 500px;
        width: 100%;
      }

      .register-form h2 {
        font-size: 28px;
        margin-bottom: 20px;
      }

      .form-input,
      select {
        width: 100%;
        padding: 12px;
        margin: 10px 0 5px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
      }

      .error-text {
        font-size: 14px;
        color: red;
        margin-bottom: 10px;
        height: 14px;
      }

      .register-btn {
        padding: 14px;
        background-color: #fdae1b;
        color: rgb(0, 0, 0);
        font-size: 18px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
      }

      .register-btn:hover {
        background-color: #1565c0;
        color: white;
      }

      .checkbox-label {
        font-size: 15px;
      }

      footer {
        background-color: #0a2647;
        color: white;
        text-align: center;
        padding: 15px;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="logo">TechElevate</div>
        <ul class="nav-links">
          <li><a href="#">Home</a></li>
          <li><a href="#">Preparation</a></li>
          <li><a href="#">Free Resources</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </header>

    <section class="register-container">
      <form class="register-form" id="registerForm">
        <h2>Create Your Account</h2>

        <input
          type="text"
          id="full-name"
          class="form-input"
          placeholder="Full Name"
          required
        />
        <div class="error-text" id="error-full-name"></div>

        <input
          type="email"
          id="register-email"
          class="form-input"
          placeholder="Email Address"
          required
        />
        <div class="error-text" id="error-register-email"></div>

        <input
          type="email"
          id="confirm-email"
          class="form-input"
          placeholder="Confirm Email Address"
          required
        />
        <div class="error-text" id="error-confirm-email"></div>

        <input
          type="password"
          id="register-password"
          class="form-input"
          placeholder="Password"
          required
        />
        <div class="error-text" id="error-register-password"></div>

        <input
          type="password"
          id="confirm-password"
          class="form-input"
          placeholder="Confirm Password"
          required
        />
        <div class="error-text" id="error-confirm-password"></div>

        <input
          type="tel"
          id="phone"
          class="form-input"
          placeholder="Phone Number"
          required
        />
        <div class="error-text" id="error-phone"></div>

        <input
          type="text"
          id="college"
          class="form-input"
          placeholder="College Name"
          required
        />
        <div class="error-text" id="error-college"></div>

        <input
          type="text"
          id="branch"
          class="form-input"
          placeholder="Branch"
          required
        />
        <div class="error-text" id="error-branch"></div>

        <label for="passing-year">Passing Year</label>
        <select id="passing-year" class="form-input" required>
          <option value="" disabled selected>Select Year</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025">2025</option>
          <option value="2026">2026</option>
          <option value="2027">2027</option>
          <option value="2028">2028</option>
          <option value="2029">2029</option>
        </select>
        <div class="error-text" id="error-passing-year"></div>

        <label class="checkbox-label">
          <input type="checkbox" id="terms" /> I accept the Terms and Conditions
        </label>
        <div class="error-text" id="error-terms"></div>

        <button type="submit" class="register-btn">Register</button>
        <p style="margin-top: 15px">
          <a href="newlogin.html"><u>Already have an account? Login here</u></a>
        </p>
      </form>
    </section>

    <footer>
      <p>&copy; 2025 TechElevate. All rights reserved.</p>
    </footer>

    <script>
      const form = document.getElementById("registerForm");

      const fields = [
        {
          id: "full-name",
          pattern: /^[A-Za-z\\s]+$/,
          error: "Full Name must only contain letters and spaces.",
        },
        {
          id: "register-email",
          pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,
          error: "Please enter a valid email address.",
        },
        {
          id: "confirm-email",
          matchWith: "register-email",
          error: "Emails do not match.",
        },
        {
          id: "register-password",
          pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\W).{8,}$/,
          error:
            "Password must be at least 8 characters long, with uppercase, lowercase, and special character.",
        },
        {
          id: "confirm-password",
          matchWith: "register-password",
          error: "Passwords do not match.",
        },
        {
          id: "phone",
          pattern: /^\\d{10}$/,
          error: "Please enter a valid 10-digit phone number.",
        },
        {
          id: "college",
          pattern: /^[A-Za-z\\s]+$/,
          error: "College Name must only contain letters and spaces.",
        },
        {
          id: "branch",
          pattern: /^[A-Za-z\\s]+$/,
          error: "Branch must only contain letters and spaces.",
        },
        {
          id: "passing-year",
          pattern: /^\\d{4}$/,
          error: "Passing Year must be a 4-digit number.",
        },
      ];

      fields.forEach((field) => {
        const input = document.getElementById(field.id);
        input.addEventListener("input", () => validateField(field));
      });

      document.getElementById("terms").addEventListener("change", () => {
        document.getElementById("error-terms").textContent =
          document.getElementById("terms").checked
            ? ""
            : "You must accept the Terms and Conditions.";
      });

      function validateField(field) {
        const input = document.getElementById(field.id);
        const errorDiv = document.getElementById(`error-${field.id}`);
        if (field.matchWith) {
          const otherVal = document.getElementById(field.matchWith).value;
          errorDiv.textContent = input.value !== otherVal ? field.error : "";
        } else if (field.pattern) {
          errorDiv.textContent = field.pattern.test(input.value)
            ? ""
            : field.error;
        }
      }

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        let isValid = true;

        fields.forEach((field) => {
          validateField(field);
          const errorText = document.getElementById(
            `error-${field.id}`
          ).textContent;
          if (errorText) isValid = false;
        });

        if (!document.getElementById("terms").checked) {
          document.getElementById("error-terms").textContent =
            "You must accept the Terms and Conditions.";
          isValid = false;
        }

        if (isValid) {
          const email = document.getElementById("register-email").value;

          if (localStorage.getItem(`user-${email}`)) {
            alert("User already registered. You cannot register again.");
          } else {
            localStorage.setItem(
              `user-${email}`,
              JSON.stringify({ registered: true })
            );
            alert("Registration successful!");
            form.reset();
            document
              .querySelectorAll(".error-text")
              .forEach((el) => (el.textContent = ""));
            window.location.href = "newlogin.html";
          }
        }
      });
    </script>
  </body>
</html>
